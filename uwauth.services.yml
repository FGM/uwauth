parameters:
  uwauth.verbose: false
  uwauth.channel: 'uwauth'

services:
  logger.channel.uwauth:
    parent: logger.channel_base
    arguments: ['%uwauth.channel%']

  uwauth.eventsubscriber:
    class: Drupal\uwauth\EventSubscriber\UwAuthSubscriber
    arguments:
      - '@request_stack'
      - '@entity.manager'
      - '@uwauth.debug'
      - '@current_user'
      - '@config.factory'
      - '@page_cache_kill_switch'
      - '@current_route_match'
    tags:
      - { name: event_subscriber }

  uwauth.debug:
    class: Drupal\uwauth\Debug
    arguments: ['%uwauth.verbose%']

  uwauth.logout_override:
    class: Drupal\uwauth\EventSubscriber\LogoutOverride
    tags:
      - { name: event_subscriber }
